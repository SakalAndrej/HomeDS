\chapter{XIBO-Server}
\section{Beschreibung}
Als zentrale Steuereinheit wird ein XIBO-Server verwendet. Um diesen verwenden zu können, war es notwendig sich in die Dokumentation einzulesen und die API-Schnittstelle auszuprobieren. Die Website des Servers diente vorerst als Übungsumgebung. Dadurch wurde es leicht auch die einzelnen Funktionen, inklusive der Vorgangsweise, des Servers zu verstehen.
\cite{xibo-server}
\section{API-Schnittstelle}
Die API-Schnittstelle des XIBO-Servers ist mittels Swagger dokumentiert. Diese Dokumentation deckt die Grundfunktionalitäten und die Form der Anfragen ab. Da die Schnittstelle des Servers später als wesentliches Verbindungsstück zwischen der eigens entwickelten Steuerungssoftware und dem Server dient, war es nötig, diese gründlich zu testen und auch zu verstehen. Anfangs wurde dafür mit Postman gearbeitet. Um mit Postman die Requests testen zu können musste festgestellt werden, welche Codierung für den Request verwendet wird. Im Falle des XIBO-Servers wird ''application/x-www-form-urlencoded'' als Codierung verwendet. Die Anfragen an den Server wurden im Java Code durch die ''libary'' OkHttp3 übernommen.
\cite{swagger}
\cite{postman}
\cite{Okhttp3}
\section{Authentifizierung}
Bevor ein Client(im Zuge der Diplomarbeit handelt es sich um den Java-EE-Server) Anweisungen an den XIBO-Server in Form von Rest-Reqests übermitteln kann muss sich dieser mittels OAuth2 authentifizieren. Dazu benötigt der eine vom Server generierte Client\_ID.
\cite{oAuth2}

Die Parameter: 
\begin{itemize}
	\item {\em Client\_ID:} XIBO-Server Anwendungen neue Anwendung
	\item {\em Client\_Secret:}  XIBO-Server Anwendungen neue Anwendung
	\item{\em grant\_type:} Muss in der Form ''&grant\_type=client\_credentials''
\end{itemize}
müssen dem Server übermittelt werden um die Authentifizierung mit dem XIBO-Server durchzuführen. Dies geschieht unter der URL ''api\/authorize\/access\_token''.






HomeDS\HomeDsBackend\src\main\java\at\htl\utils\AuthentificationHandler.java

Zuerst wird ein Request-Body erstellt. Dieser hat folgende Parameter in der Form: 
 ''client\_id=<CLIENT\_ID>\&client\_secret=<CLIENT\_SECRET>\&grant\_type=
 client\_credentials''
, die im Body mitgegeben werden und als Format 'application/x-www-form-urlencoded'  haben. Anschließend werden dem Header noch der "content-type'' mit dem Wert ''application/x-www-form-urlencoded'' und der Parameter ''cache-control'' mit dem Wert ''no-cache'' hinzugefügt. Als Ergebniss der Anfrage bekommt der Client einen '' access\_token '', dieser ist nun bei jeder Anfrage notwendig um sich beim Server zu authentifizieren und es dem Client zu ermöglichen Daten abzurufen beziehungsweise weiterzugeben.




